---
name: chat-worktree
description: チャットセッションごとの独立したGit Worktree管理。
---

# チャット専用Git Worktree管理スキル

このスキルは、Antigravityが各チャットセッション(`conversation-id`)ごとに独立したGit作業環境を構築できるようにします。

## 命令
1. セッションの開始時、現在の会話ID（`3857606c-76ab-479f-ae89-5a298c5bb9c5` など）に基づいたワークツリーが存在するか確認してください。
2. 存在しない場合、`scripts/manage_worktree.js` を実行して、ベースリポジトリから新しいワークツリーとブランチを作成してください。
3. ワークツリーが作成されたら、以後の作業（CWDの指定やGit操作）はそのワークツリーディレクトリ内で行ってください。
4. すべてのコミットは `chat-<conversation-id>` ブランチに対して行われる必要があります。

## ルール
- ベースリポジトリ（メインのリポジトリ）で直接 `git checkout` や `git commit` を実行しないでください。
- ブランチ名は必ず `chat-` プレフィックスに続けて会話IDを使用してください。
- ワークツリー作成後は、ベースリポジトリに戻らずそのディレクトリ内で完結させてください。
